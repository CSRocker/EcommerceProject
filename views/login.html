
<script type="text/javascript">
    window.fbAsyncInit = function() {
        FB.init({
            appId      : '174529669562516',
            xfbml      : true,
            cookie      :true,
            version    : 'v2.5'
        });
    };

    (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));

    // This function is called when someone finishes with the Login
    // Button.  See the onlogin handler attached to it in the sample
    // code below.
    function checkLoginState() {
        FB.getLoginStatus(function(response) {
            console.log("getloginstatus"+JSON.stringify(response));
            statusChangeCallback(response);
        });
    }

    // This is called with the results from from FB.getLoginStatus().
    function statusChangeCallback(response) {
        console.log('statusChangeCallback');
        console.log(response);

        // The response object is returned with a status field that lets the
        // app know the current login status of the person.
        // Full docs on the response object can be found in the documentation
        // for FB.getLoginStatus().
        if (response.status === 'connected') {
            // Logged into your app and Facebook.
            fbLoginsuccess();
        } else if (response.status === 'not_authorized') {
            // The person is logged into Facebook, but not your app.

           document.getElementById('status').innerHTML = 'Please log ' +
                    'into this app.';
        } else {
            // The person is not logged into Facebook, so we're not sure if
            // they are logged into this app or not.
            document.getElementById('status').innerHTML = 'Please log ' +
                    'into Facebook.';
        }
    }

    function fbLoginsuccess() {
        console.log('Welcome!  Fetching your information.... ');
        FB.api('/me', function(response) {

            console.log('Successful login for: ' + response.name);
            document.getElementById('status').innerHTML =
                    'Thanks for logging in, ' + response.name + '!';
        });
    }






</script>


<span>


<div class="modal fade" id="login_modal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">Sign Up / Log In</h4>
            </div>
            <div class="modal-body">


                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-5">
                            <div class="login-form"><!--login form-->
                                <h2>Login to your account</h2>

                                <form id="loginForm" role="form" method="post" action="/login">
                                    <div class="form-group">
                                        <input type="email" class="form-control validate[required]" name="email"
                                               placeholder="Email"/>
                                    </div>
                                    <div class="form-group">
                                        <input type="password" class="form-control validate[required]" name="password"
                                               placeholder="Password"/>
                                    </div>
                                    <button id="loginForm_submit" type="submit" class="btn btn-submit">Login</button>
                                    <span>
                                    <h4>Login With Facebook</h4>
                                    <fb:login-button id="fblogin" onLogin="checkLoginState"> </fb:login-button>
                                        <div id="status"></div>

					             	</span>



</form>
                            </div>
                            <!--/login form-->
                        </div>
                        <div class="col-sm-1">
                            <h2 class="or">OR</h2>
                        </div>
                        <div class="col-sm-6">
                            <div class="signup-form"><!--sign up form-->
                                <h2>New User Signup!</h2>

                                <form id="signupForm" role="form" method="post" action="/signup">
                                    <div class="form-group">
                                        <input type="text" class="form-control validate[required]" id="name" name="name"
                                               placeholder="Name"/>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control validate[required]" id="phone"
                                               name="phone" placeholder="phone (###) ###-####"/>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control validate[required]" id="address"
                                               name="address" placeholder="Full Address"/>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control validate[required]" id="email"
                                               name="email" placeholder="Email"/>
                                    </div>
                                    <div class="form-group">
                                        <input type="password" class="form-control validate[required]" id="password"
                                               name="password" placeholder="Password"/>
                                    </div>
                                    <div class="form-group">
                                        <input type="password" class="form-control validate[required,equals[password]]"
                                               name="passwordConfirmation" placeholder="Confirm Password"/>
                                    </div>
                                    <button id="signupForm_submit" type="submit" class="btn btn-submit">Signup</button>
                                </form>
                            </div>
                            <!--/sign up form-->
                        </div>
                    </div>
                </div>
                <!-- /.login & signup container -->


            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div><!-- /.modal -->

<script type="text/javascript" src="../public/js/controllers/login.js"></script>